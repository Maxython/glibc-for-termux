# The original PKGBUILD was taken from the archlinux/svntogit-packages repo:
# - https://github.com/archlinux/svntogit-packages/blob/packages/libssh2/trunk/PKGBUILD

pkgname=libssh2-glibc
pkgver=1.10.0
pkgrel=0
pkgdesc="A library implementing the SSH2 protocol as defined by Internet Drafts"
url="https://www.libssh2.org/"
arch=(any)
license=('BSD')
source=("https://www.libssh2.org/download/libssh2-$pkgver.tar.gz")
sha256sums=('2d64e90f3ded394b91d3a2e774ca203a4179f69aebee03003e5a6fa621e41d51')
groups=('gpkg-dev')

build() {
  cd "libssh2-$pkgver"

  ./configure --prefix=$GLIBC_PREFIX
  make
}

package() {
  cd "libssh2-$pkgver"

  make DESTDIR="$pkgdir" install
  install -Dm644 COPYING "$pkgdir/$GLIBC_PREFIX/share/licenses/$pkgname/LICENSE"
}
